{"dependencies":[{"name":"./constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":38,"index":38}}],"key":"waDaw5D7vDr2hRFu0z1BqRCTzP4=","exportNames":["*"],"imports":1}},{"name":"../utilities/logger","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":39},"end":{"line":2,"column":44,"index":83}}],"key":"9pfJmT1iyRGKHa3b5FHJaETbUVI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"reducer\", {\n    enumerable: true,\n    get: function () {\n      return reducer;\n    }\n  });\n  var _constants = require(_dependencyMap[0], \"./constants\");\n  var _utilitiesLogger = require(_dependencyMap[1], \"../utilities/logger\");\n  var registerHost = function registerHost(state, hostName) {\n    if (!(hostName in state)) {\n      state[hostName] = [];\n    }\n    return state;\n  };\n  var deregisterHost = function deregisterHost(state, hostName) {\n    delete state[hostName];\n    return state;\n  };\n  var addUpdatePortal = function addUpdatePortal(state, hostName, portalName, node) {\n    if (!(hostName in state)) {\n      state = registerHost(state, hostName);\n    }\n\n    /**\n     * updated portal, if it was already added.\n     */\n    var index = state[hostName].findIndex(function (item) {\n      return item.name === portalName;\n    });\n    if (index !== -1) {\n      state[hostName][index].node = node;\n    } else {\n      state[hostName].push({\n        name: portalName,\n        node: node\n      });\n    }\n    return state;\n  };\n  var _removePortal = function removePortal(state, hostName, portalName) {\n    if (!(hostName in state)) {\n      (0, _utilitiesLogger.print)({\n        component: reducer.name,\n        method: _removePortal.name,\n        params: `Failed to remove portal '${portalName}', '${hostName}' was not registered!`\n      });\n      return state;\n    }\n    var index = state[hostName].findIndex(function (item) {\n      return item.name === portalName;\n    });\n    if (index !== -1) state[hostName].splice(index, 1);\n    return state;\n  };\n  var reducer = function reducer(state, action) {\n    var type = action.type;\n    var clonedState = Object.assign({}, state);\n    switch (type) {\n      case _constants.ACTIONS.REGISTER_HOST:\n        return registerHost(clonedState, action.hostName);\n      case _constants.ACTIONS.DEREGISTER_HOST:\n        return deregisterHost(clonedState, action.hostName);\n      case _constants.ACTIONS.ADD_UPDATE_PORTAL:\n        return addUpdatePortal(clonedState, action.hostName, action.portalName, action.node);\n      case _constants.ACTIONS.REMOVE_PORTAL:\n        return _removePortal(clonedState, action.hostName, action.portalName);\n      default:\n        return state;\n    }\n  };\n});","lineCount":77,"map":[[7,2,72,0,"Object"],[7,8,72,0],[7,9,72,0,"defineProperty"],[7,23,72,0],[7,24,72,0,"exports"],[7,31,72,0],[8,4,72,0,"enumerable"],[8,14,72,0],[9,4,72,0,"get"],[9,7,72,0],[9,18,72,0,"get"],[9,19,72,0],[10,6,72,0],[10,13,72,0,"reducer"],[10,20,72,0],[11,4,72,0],[12,2,72,0],[13,2,1,0],[13,6,1,0,"_constants"],[13,16,1,0],[13,19,1,0,"require"],[13,26,1,0],[13,27,1,0,"_dependencyMap"],[13,41,1,0],[14,2,2,0],[14,6,2,0,"_utilitiesLogger"],[14,22,2,0],[14,25,2,0,"require"],[14,32,2,0],[14,33,2,0,"_dependencyMap"],[14,47,2,0],[15,2,10,0],[15,6,10,6,"registerHost"],[15,18,10,18],[15,21,10,21],[15,30,10,6,"registerHost"],[15,42,10,18,"registerHost"],[15,43,11,2,"state"],[15,48,11,42],[15,50,12,2,"hostName"],[15,58,12,18],[15,60,13,5],[16,4,14,2],[16,8,14,6],[16,10,14,8,"hostName"],[16,18,14,16],[16,22,14,20,"state"],[16,27,14,25],[16,28,14,26],[16,30,14,28],[17,6,15,4,"state"],[17,11,15,9],[17,12,15,10,"hostName"],[17,20,15,18],[17,21,15,19],[17,24,15,22],[17,26,15,24],[18,4,16,2],[19,4,17,2],[19,11,17,9,"state"],[19,16,17,14],[20,2,18,0],[20,3,18,1],[21,2,20,0],[21,6,20,6,"deregisterHost"],[21,20,20,20],[21,23,20,23],[21,32,20,6,"deregisterHost"],[21,46,20,20,"deregisterHost"],[21,47,21,2,"state"],[21,52,21,42],[21,54,22,2,"hostName"],[21,62,22,18],[21,64,23,5],[22,4,24,2],[22,11,24,9,"state"],[22,16,24,14],[22,17,24,15,"hostName"],[22,25,24,23],[22,26,24,24],[23,4,25,2],[23,11,25,9,"state"],[23,16,25,14],[24,2,26,0],[24,3,26,1],[25,2,28,0],[25,6,28,6,"addUpdatePortal"],[25,21,28,21],[25,24,28,24],[25,33,28,6,"addUpdatePortal"],[25,48,28,21,"addUpdatePortal"],[25,49,29,2,"state"],[25,54,29,42],[25,56,30,2,"hostName"],[25,64,30,18],[25,66,31,2,"portalName"],[25,76,31,20],[25,78,32,2,"node"],[25,82,32,11],[25,84,33,5],[26,4,34,2],[26,8,34,6],[26,10,34,8,"hostName"],[26,18,34,16],[26,22,34,20,"state"],[26,27,34,25],[26,28,34,26],[26,30,34,28],[27,6,35,4,"state"],[27,11,35,9],[27,14,35,12,"registerHost"],[27,26,35,24],[27,27,35,25,"state"],[27,32,35,30],[27,34,35,32,"hostName"],[27,42,35,40],[27,43,35,41],[28,4,36,2],[30,4,38,2],[31,0,39,0],[32,0,40,0],[33,4,41,2],[33,8,41,8,"index"],[33,13,41,13],[33,16,41,16,"state"],[33,21,41,21],[33,22,41,22,"hostName"],[33,30,41,30],[33,31,41,31],[33,32,41,32,"findIndex"],[33,41,41,41],[33,42,41,42],[33,52,41,42,"item"],[33,56,41,46],[34,6,41,46],[34,13,41,50,"item"],[34,17,41,54],[34,18,41,55,"name"],[34,22,41,59],[34,27,41,64,"portalName"],[34,37,41,74],[35,4,41,74],[35,6,41,75],[36,4,42,2],[36,8,42,6,"index"],[36,13,42,11],[36,18,42,16],[36,19,42,17],[36,20,42,18],[36,22,42,20],[37,6,43,4,"state"],[37,11,43,9],[37,12,43,10,"hostName"],[37,20,43,18],[37,21,43,19],[37,22,43,20,"index"],[37,27,43,25],[37,28,43,26],[37,29,43,27,"node"],[37,33,43,31],[37,36,43,34,"node"],[37,40,43,38],[38,4,44,2],[38,5,44,3],[38,11,44,9],[39,6,45,4,"state"],[39,11,45,9],[39,12,45,10,"hostName"],[39,20,45,18],[39,21,45,19],[39,22,45,20,"push"],[39,26,45,24],[39,27,45,25],[40,8,46,6,"name"],[40,12,46,10],[40,14,46,12,"portalName"],[40,24,46,22],[41,8,47,6,"node"],[41,12,47,10],[41,14,47,6,"node"],[42,6,48,4],[42,7,48,5],[42,8,48,6],[43,4,49,2],[44,4,50,2],[44,11,50,9,"state"],[44,16,50,14],[45,2,51,0],[45,3,51,1],[46,2,53,0],[46,6,53,6,"removePortal"],[46,19,53,18],[46,22,53,21],[46,31,53,6,"removePortal"],[46,43,53,18,"removePortal"],[46,44,54,2,"state"],[46,49,54,42],[46,51,55,2,"hostName"],[46,59,55,18],[46,61,56,2,"portalName"],[46,71,56,20],[46,73,57,5],[47,4,58,2],[47,8,58,6],[47,10,58,8,"hostName"],[47,18,58,16],[47,22,58,20,"state"],[47,27,58,25],[47,28,58,26],[47,30,58,28],[48,6,59,4],[48,10,59,4,"print"],[48,26,59,9],[48,27,59,9,"print"],[48,32,59,9],[48,34,59,10],[49,8,60,6,"component"],[49,17,60,15],[49,19,60,17,"reducer"],[49,26,60,24],[49,27,60,25,"name"],[49,31,60,29],[50,8,61,6,"method"],[50,14,61,12],[50,16,61,14,"removePortal"],[50,29,61,26],[50,30,61,27,"name"],[50,34,61,31],[51,8,62,6,"params"],[51,14,62,12],[51,16,62,14],[51,44,62,42,"portalName"],[51,54,62,52],[51,61,62,59,"hostName"],[51,69,62,67],[52,6,63,4],[52,7,63,5],[52,8,63,6],[53,6,64,4],[53,13,64,11,"state"],[53,18,64,16],[54,4,65,2],[55,4,67,2],[55,8,67,8,"index"],[55,13,67,13],[55,16,67,16,"state"],[55,21,67,21],[55,22,67,22,"hostName"],[55,30,67,30],[55,31,67,31],[55,32,67,32,"findIndex"],[55,41,67,41],[55,42,67,42],[55,52,67,42,"item"],[55,56,67,46],[56,6,67,46],[56,13,67,50,"item"],[56,17,67,54],[56,18,67,55,"name"],[56,22,67,59],[56,27,67,64,"portalName"],[56,37,67,74],[57,4,67,74],[57,6,67,75],[58,4,68,2],[58,8,68,6,"index"],[58,13,68,11],[58,18,68,16],[58,19,68,17],[58,20,68,18],[58,22,68,20,"state"],[58,27,68,25],[58,28,68,26,"hostName"],[58,36,68,34],[58,37,68,35],[58,38,68,36,"splice"],[58,44,68,42],[58,45,68,43,"index"],[58,50,68,48],[58,52,68,50],[58,53,68,51],[58,54,68,52],[59,4,69,2],[59,11,69,9,"state"],[59,16,69,14],[60,2,70,0],[60,3,70,1],[61,2,72,7],[61,6,72,13,"reducer"],[61,13,72,20],[61,16,72,23],[61,25,72,13,"reducer"],[61,32,72,20,"reducer"],[61,33,73,2,"state"],[61,38,73,42],[61,40,74,2,"action"],[61,46,74,21],[61,48,75,5],[62,4,76,2],[62,8,76,10,"type"],[62,12,76,14],[62,15,76,19,"action"],[62,21,76,25],[62,22,76,10,"type"],[62,26,76,14],[63,4,77,2],[63,8,77,6,"clonedState"],[63,19,77,17],[63,22,77,17,"Object"],[63,28,77,17],[63,29,77,17,"assign"],[63,35,77,17],[63,40,77,25,"state"],[63,45,77,30],[63,46,77,32],[64,4,78,2],[64,12,78,10,"type"],[64,16,78,14],[65,6,79,4],[65,11,79,9,"ACTIONS"],[65,21,79,16],[65,22,79,16,"ACTIONS"],[65,29,79,16],[65,30,79,17,"REGISTER_HOST"],[65,43,79,30],[66,8,80,6],[66,15,80,13,"registerHost"],[66,27,80,25],[66,28,80,26,"clonedState"],[66,39,80,37],[66,41,80,39,"action"],[66,47,80,45],[66,48,80,46,"hostName"],[66,56,80,54],[66,57,80,55],[67,6,81,4],[67,11,81,9,"ACTIONS"],[67,21,81,16],[67,22,81,16,"ACTIONS"],[67,29,81,16],[67,30,81,17,"DEREGISTER_HOST"],[67,45,81,32],[68,8,82,6],[68,15,82,13,"deregisterHost"],[68,29,82,27],[68,30,82,28,"clonedState"],[68,41,82,39],[68,43,82,41,"action"],[68,49,82,47],[68,50,82,48,"hostName"],[68,58,82,56],[68,59,82,57],[69,6,83,4],[69,11,83,9,"ACTIONS"],[69,21,83,16],[69,22,83,16,"ACTIONS"],[69,29,83,16],[69,30,83,17,"ADD_UPDATE_PORTAL"],[69,47,83,34],[70,8,84,6],[70,15,84,13,"addUpdatePortal"],[70,30,84,28],[70,31,85,8,"clonedState"],[70,42,85,19],[70,44,86,8,"action"],[70,50,86,14],[70,51,86,15,"hostName"],[70,59,86,23],[70,61,87,9,"action"],[70,67,87,15],[70,68,87,42,"portalName"],[70,78,87,52],[70,80,88,9,"action"],[70,86,88,15],[70,87,88,42,"node"],[70,91,89,6],[70,92,89,7],[71,6,90,4],[71,11,90,9,"ACTIONS"],[71,21,90,16],[71,22,90,16,"ACTIONS"],[71,29,90,16],[71,30,90,17,"REMOVE_PORTAL"],[71,43,90,30],[72,8,91,6],[72,15,91,13,"removePortal"],[72,28,91,25],[72,29,92,8,"clonedState"],[72,40,92,19],[72,42,93,8,"action"],[72,48,93,14],[72,49,93,15,"hostName"],[72,57,93,23],[72,59,94,9,"action"],[72,65,94,15],[72,66,94,39,"portalName"],[72,76,95,6],[72,77,95,7],[73,6,96,4],[74,8,97,6],[74,15,97,13,"state"],[74,20,97,18],[75,4,98,2],[76,2,99,0],[76,3,99,1],[77,0,99,2],[77,3]],"functionMap":{"names":["<global>","registerHost","deregisterHost","addUpdatePortal","state.hostName.findIndex$argument_0","removePortal","reducer"],"mappings":"AAA;qBCS;CDQ;uBEE;CFM;wBGE;0CCa,gCD;CHU;qBKE;0CDc,gCC;CLG;uBME;CN2B"},"hasCjsExports":false},"type":"js/module"}]}