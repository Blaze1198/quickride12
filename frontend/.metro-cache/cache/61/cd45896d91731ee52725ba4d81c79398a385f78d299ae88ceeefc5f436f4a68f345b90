{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":84,"column":33,"index":2247},"end":{"line":84,"column":56,"index":2270}}],"key":"DZNyATZrnC0EfwbfXdEEwmvpF3k=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  // Platform-specific storage - using localStorage for web compatibility\n  const storage = {\n    async getItem(key) {\n      if (false && window.localStorage) {\n        return localStorage.getItem(key);\n      }\n      return null;\n    },\n    async setItem(key, value) {\n      if (false && window.localStorage) {\n        localStorage.setItem(key, value);\n      }\n    },\n    async removeItem(key) {\n      if (false && window.localStorage) {\n        localStorage.removeItem(key);\n      }\n    }\n  };\n  const useAuthStore = (0, _zustand.create)(set => ({\n    user: null,\n    sessionToken: null,\n    isLoading: true,\n    setUser: user => {\n      set({\n        user\n      });\n      if (user) {\n        storage.setItem('user', JSON.stringify(user));\n      } else {\n        storage.removeItem('user');\n      }\n    },\n    setSessionToken: token => {\n      set({\n        sessionToken: token\n      });\n      if (token) {\n        storage.setItem('sessionToken', token);\n      } else {\n        storage.removeItem('sessionToken');\n      }\n    },\n    setLoading: loading => set({\n      isLoading: loading\n    }),\n    logout: () => {\n      set({\n        user: null,\n        sessionToken: null\n      });\n      storage.removeItem('user');\n      storage.removeItem('sessionToken');\n    },\n    initializeAuth: async () => {\n      try {\n        const [storedToken, storedUser] = await Promise.all([storage.getItem('sessionToken'), storage.getItem('user')]);\n        if (storedToken && storedUser) {\n          set({\n            sessionToken: storedToken,\n            user: JSON.parse(storedUser)\n          });\n\n          // Immediately set the auth token in API headers\n          const {\n            setAuthToken\n          } = require(_dependencyMap[1], \"../utils/api\");\n          setAuthToken(storedToken);\n          console.log('âœ… Auth token set in API headers during initialization');\n        }\n      } catch (error) {\n        console.error('Error initializing auth:', error);\n      } finally {\n        set({\n          isLoading: false\n        });\n      }\n    }\n  }));\n});","lineCount":93,"map":[[7,2,44,0,"Object"],[7,8,44,0],[7,9,44,0,"defineProperty"],[7,23,44,0],[7,24,44,0,"exports"],[7,31,44,0],[8,4,44,0,"enumerable"],[8,14,44,0],[9,4,44,0,"get"],[9,7,44,0],[9,18,44,0,"get"],[9,19,44,0],[10,6,44,0],[10,13,44,0,"useAuthStore"],[10,25,44,0],[11,4,44,0],[12,2,44,0],[13,2,1,0],[13,6,1,0,"_zustand"],[13,14,1,0],[13,17,1,0,"require"],[13,24,1,0],[13,25,1,0,"_dependencyMap"],[13,39,1,0],[14,2,4,0],[15,2,5,0],[15,8,5,6,"storage"],[15,15,5,13],[15,18,5,16],[16,4,6,2],[16,10,6,8,"getItem"],[16,17,6,15,"getItem"],[16,18,6,16,"key"],[16,21,6,27],[16,23,6,53],[17,6,7,4],[17,10,7,8],[17,19,7,41,"window"],[17,25,7,47],[17,26,7,48,"localStorage"],[17,38,7,60],[17,40,7,62],[18,8,8,6],[18,15,8,13,"localStorage"],[18,27,8,25],[18,28,8,26,"getItem"],[18,35,8,33],[18,36,8,34,"key"],[18,39,8,37],[18,40,8,38],[19,6,9,4],[20,6,10,4],[20,13,10,11],[20,17,10,15],[21,4,11,2],[21,5,11,3],[22,4,12,2],[22,10,12,8,"setItem"],[22,17,12,15,"setItem"],[22,18,12,16,"key"],[22,21,12,27],[22,23,12,29,"value"],[22,28,12,42],[22,30,12,59],[23,6,13,4],[23,10,13,8],[23,19,13,41,"window"],[23,25,13,47],[23,26,13,48,"localStorage"],[23,38,13,60],[23,40,13,62],[24,8,14,6,"localStorage"],[24,20,14,18],[24,21,14,19,"setItem"],[24,28,14,26],[24,29,14,27,"key"],[24,32,14,30],[24,34,14,32,"value"],[24,39,14,37],[24,40,14,38],[25,6,15,4],[26,4,16,2],[26,5,16,3],[27,4,17,2],[27,10,17,8,"removeItem"],[27,20,17,18,"removeItem"],[27,21,17,19,"key"],[27,24,17,30],[27,26,17,47],[28,6,18,4],[28,10,18,8],[28,19,18,41,"window"],[28,25,18,47],[28,26,18,48,"localStorage"],[28,38,18,60],[28,40,18,62],[29,8,19,6,"localStorage"],[29,20,19,18],[29,21,19,19,"removeItem"],[29,31,19,29],[29,32,19,30,"key"],[29,35,19,33],[29,36,19,34],[30,6,20,4],[31,4,21,2],[32,2,22,0],[32,3,22,1],[33,2,44,7],[33,8,44,13,"useAuthStore"],[33,20,44,25],[33,23,44,28],[33,27,44,28,"create"],[33,35,44,34],[33,36,44,34,"create"],[33,42,44,34],[33,44,44,47,"set"],[33,47,44,50],[33,52,44,56],[34,4,45,2,"user"],[34,8,45,6],[34,10,45,8],[34,14,45,12],[35,4,46,2,"sessionToken"],[35,16,46,14],[35,18,46,16],[35,22,46,20],[36,4,47,2,"isLoading"],[36,13,47,11],[36,15,47,13],[36,19,47,17],[37,4,48,2,"setUser"],[37,11,48,9],[37,13,48,12,"user"],[37,17,48,16],[37,21,48,21],[38,6,49,4,"set"],[38,9,49,7],[38,10,49,8],[39,8,49,10,"user"],[40,6,49,15],[40,7,49,16],[40,8,49,17],[41,6,50,4],[41,10,50,8,"user"],[41,14,50,12],[41,16,50,14],[42,8,51,6,"storage"],[42,15,51,13],[42,16,51,14,"setItem"],[42,23,51,21],[42,24,51,22],[42,30,51,28],[42,32,51,30,"JSON"],[42,36,51,34],[42,37,51,35,"stringify"],[42,46,51,44],[42,47,51,45,"user"],[42,51,51,49],[42,52,51,50],[42,53,51,51],[43,6,52,4],[43,7,52,5],[43,13,52,11],[44,8,53,6,"storage"],[44,15,53,13],[44,16,53,14,"removeItem"],[44,26,53,24],[44,27,53,25],[44,33,53,31],[44,34,53,32],[45,6,54,4],[46,4,55,2],[46,5,55,3],[47,4,56,2,"setSessionToken"],[47,19,56,17],[47,21,56,20,"token"],[47,26,56,25],[47,30,56,30],[48,6,57,4,"set"],[48,9,57,7],[48,10,57,8],[49,8,57,10,"sessionToken"],[49,20,57,22],[49,22,57,24,"token"],[50,6,57,30],[50,7,57,31],[50,8,57,32],[51,6,58,4],[51,10,58,8,"token"],[51,15,58,13],[51,17,58,15],[52,8,59,6,"storage"],[52,15,59,13],[52,16,59,14,"setItem"],[52,23,59,21],[52,24,59,22],[52,38,59,36],[52,40,59,38,"token"],[52,45,59,43],[52,46,59,44],[53,6,60,4],[53,7,60,5],[53,13,60,11],[54,8,61,6,"storage"],[54,15,61,13],[54,16,61,14,"removeItem"],[54,26,61,24],[54,27,61,25],[54,41,61,39],[54,42,61,40],[55,6,62,4],[56,4,63,2],[56,5,63,3],[57,4,64,2,"setLoading"],[57,14,64,12],[57,16,64,15,"loading"],[57,23,64,22],[57,27,64,27,"set"],[57,30,64,30],[57,31,64,31],[58,6,64,33,"isLoading"],[58,15,64,42],[58,17,64,44,"loading"],[59,4,64,52],[59,5,64,53],[59,6,64,54],[60,4,65,2,"logout"],[60,10,65,8],[60,12,65,10,"logout"],[60,13,65,10],[60,18,65,16],[61,6,66,4,"set"],[61,9,66,7],[61,10,66,8],[62,8,66,10,"user"],[62,12,66,14],[62,14,66,16],[62,18,66,20],[63,8,66,22,"sessionToken"],[63,20,66,34],[63,22,66,36],[64,6,66,41],[64,7,66,42],[64,8,66,43],[65,6,67,4,"storage"],[65,13,67,11],[65,14,67,12,"removeItem"],[65,24,67,22],[65,25,67,23],[65,31,67,29],[65,32,67,30],[66,6,68,4,"storage"],[66,13,68,11],[66,14,68,12,"removeItem"],[66,24,68,22],[66,25,68,23],[66,39,68,37],[66,40,68,38],[67,4,69,2],[67,5,69,3],[68,4,70,2,"initializeAuth"],[68,18,70,16],[68,20,70,18],[68,26,70,18,"initializeAuth"],[68,27,70,18],[68,32,70,30],[69,6,71,4],[69,10,71,8],[70,8,72,6],[70,14,72,12],[70,15,72,13,"storedToken"],[70,26,72,24],[70,28,72,26,"storedUser"],[70,38,72,36],[70,39,72,37],[70,42,72,40],[70,48,72,46,"Promise"],[70,55,72,53],[70,56,72,54,"all"],[70,59,72,57],[70,60,72,58],[70,61,73,8,"storage"],[70,68,73,15],[70,69,73,16,"getItem"],[70,76,73,23],[70,77,73,24],[70,91,73,38],[70,92,73,39],[70,94,74,8,"storage"],[70,101,74,15],[70,102,74,16,"getItem"],[70,109,74,23],[70,110,74,24],[70,116,74,30],[70,117,74,31],[70,118,75,7],[70,119,75,8],[71,8,77,6],[71,12,77,10,"storedToken"],[71,23,77,21],[71,27,77,25,"storedUser"],[71,37,77,35],[71,39,77,37],[72,10,78,8,"set"],[72,13,78,11],[72,14,78,12],[73,12,79,10,"sessionToken"],[73,24,79,22],[73,26,79,24,"storedToken"],[73,37,79,35],[74,12,80,10,"user"],[74,16,80,14],[74,18,80,16,"JSON"],[74,22,80,20],[74,23,80,21,"parse"],[74,28,80,26],[74,29,80,27,"storedUser"],[74,39,80,37],[75,10,81,8],[75,11,81,9],[75,12,81,10],[77,10,83,8],[78,10,84,8],[78,16,84,14],[79,12,84,16,"setAuthToken"],[80,10,84,29],[80,11,84,30],[80,14,84,33,"require"],[80,21,84,40],[80,22,84,40,"_dependencyMap"],[80,36,84,40],[80,55,84,55],[80,56,84,56],[81,10,85,8,"setAuthToken"],[81,22,85,20],[81,23,85,21,"storedToken"],[81,34,85,32],[81,35,85,33],[82,10,86,8,"console"],[82,17,86,15],[82,18,86,16,"log"],[82,21,86,19],[82,22,86,20],[82,77,86,75],[82,78,86,76],[83,8,87,6],[84,6,88,4],[84,7,88,5],[84,8,88,6],[84,15,88,13,"error"],[84,20,88,18],[84,22,88,20],[85,8,89,6,"console"],[85,15,89,13],[85,16,89,14,"error"],[85,21,89,19],[85,22,89,20],[85,48,89,46],[85,50,89,48,"error"],[85,55,89,53],[85,56,89,54],[86,6,90,4],[86,7,90,5],[86,16,90,14],[87,8,91,6,"set"],[87,11,91,9],[87,12,91,10],[88,10,91,12,"isLoading"],[88,19,91,21],[88,21,91,23],[89,8,91,29],[89,9,91,30],[89,10,91,31],[90,6,92,4],[91,4,93,2],[92,2,94,0],[92,3,94,1],[92,4,94,2],[92,5,94,3],[93,0,94,4],[93,3]],"functionMap":{"names":["<global>","storage.getItem","storage.setItem","storage.removeItem","create$argument_0","setUser","setSessionToken","setLoading","logout","initializeAuth"],"mappings":"AAA;ECK;GDK;EEC;GFI;EGC;GHI;8CIuB;WCI;GDO;mBEC;GFO;cGC,wCH;UIC;GJI;kBKC;GLuB;EJC"},"hasCjsExports":false},"type":"js/module"}]}